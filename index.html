<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>PaymentWorld - Professional Payment Gateway</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        /* CSS Variables */
        :root {
            --primary: #2563eb;
            --primary-dark: #1d4ed8;
            --secondary: #10b981;
            --dark: #1e293b;
            --light: #f8fafc;
            --gray: #64748b;
            --gray-light: #e2e8f0;
            --border-radius: 12px;
            --shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06);
            --shadow-lg: 0 10px 15px -3px rgba(0, 0, 0, 0.1), 0 4px 6px -2px rgba(0, 0, 0, 0.05);
            --transition: all 0.3s ease;
        }

        /* Reset & Base Styles */
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            line-height: 1.6;
            color: var(--dark);
            background-color: var(--light);
            min-height: 100vh;
        }

        /* Page Container */
        .page-container {
            display: flex;
            flex-direction: column;
            min-height: 100vh;
        }

        /* Header & Navigation */
        header {
            background-color: white;
            box-shadow: var(--shadow);
            position: sticky;
            top: 0;
            z-index: 100;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 0 20px;
        }

        .nav-container {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 20px 0;
        }

        .logo {
            display: flex;
            align-items: center;
            gap: 10px;
            font-size: 1.5rem;
            font-weight: 700;
            color: var(--primary);
            text-decoration: none;
            cursor: pointer;
        }

        .logo i {
            font-size: 1.8rem;
        }

        .nav-links {
            display: flex;
            gap: 30px;
            list-style: none;
        }

        .nav-links a {
            text-decoration: none;
            color: var(--dark);
            font-weight: 500;
            transition: var(--transition);
            padding: 5px 0;
            position: relative;
            cursor: pointer;
        }

        .nav-links a:hover {
            color: var(--primary);
        }

        .nav-links a.active {
            color: var(--primary);
            font-weight: 600;
        }

        .nav-links a.active::after {
            content: '';
            position: absolute;
            bottom: 0;
            left: 0;
            width: 100%;
            height: 2px;
            background-color: var(--primary);
        }

        /* Mobile Navigation */
        .mobile-toggle {
            display: none;
            background: none;
            border: none;
            font-size: 1.5rem;
            color: var(--dark);
            cursor: pointer;
        }

        /* Pages - Initially Hidden */
        .page {
            display: none;
            flex: 1;
        }

        .page.active {
            display: block;
        }

        /* Home Page Styles */
        .hero {
            padding: 80px 0;
            text-align: center;
            background: linear-gradient(135deg, #f0f9ff 0%, #e0f2fe 100%);
        }

        .hero h1 {
            font-size: 3rem;
            margin-bottom: 20px;
            color: var(--dark);
        }

        .hero p {
            font-size: 1.2rem;
            color: var(--gray);
            max-width: 700px;
            margin: 0 auto 40px;
        }

        .proceed-btn {
            display: inline-block;
            background-color: var(--primary);
            color: white;
            padding: 16px 40px;
            border-radius: var(--border-radius);
            text-decoration: none;
            font-weight: 600;
            font-size: 1.1rem;
            transition: var(--transition);
            box-shadow: var(--shadow);
            border: none;
            cursor: pointer;
        }

        .proceed-btn:hover {
            background-color: var(--primary-dark);
            transform: translateY(-2px);
            box-shadow: var(--shadow-lg);
        }

        .proceed-btn i {
            margin-left: 8px;
        }

        /* Features Section */
        .features {
            padding: 80px 0;
        }

        .section-title {
            text-align: center;
            font-size: 2.2rem;
            margin-bottom: 60px;
            color: var(--dark);
        }

        .features-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
            gap: 30px;
        }

        .feature-card {
            background-color: white;
            border-radius: var(--border-radius);
            padding: 30px;
            box-shadow: var(--shadow);
            transition: var(--transition);
            text-align: center;
        }

        .feature-card:hover {
            transform: translateY(-5px);
            box-shadow: var(--shadow-lg);
        }

        .feature-card i {
            font-size: 2.5rem;
            color: var(--primary);
            margin-bottom: 20px;
        }

        .feature-card h3 {
            font-size: 1.4rem;
            margin-bottom: 15px;
        }

        /* Payment Page Styles - Integrated from second HTML */
        .payment-page-container {
            display: flex;
            align-items: center;
            justify-content: center;
            min-height: 70vh;
            padding: 40px 20px;
            background: #f3f4f6;
        }

        .payment-form-container {
            max-width: 420px;
            width: 100%;
            background: #fff;
            padding: 30px;
            border-radius: 10px;
            box-shadow: 0 10px 25px rgba(0,0,0,0.1);
            animation: slideUp 0.5s ease;
        }

        .payment-form-container h2 {
            text-align: center;
            margin-bottom: 20px;
            color: var(--dark);
            font-size: 1.8rem;
        }

        .payment-form-container label {
            font-size: 14px;
            margin-top: 12px;
            display: block;
            color: var(--dark);
            font-weight: 500;
        }

        .payment-form-container input {
            width: 100%;
            padding: 12px;
            margin-top: 6px;
            border-radius: 6px;
            border: 1px solid var(--gray-light);
            font-size: 14px;
            transition: var(--transition);
        }

        .payment-form-container input:focus {
            outline: none;
            border-color: var(--primary);
            box-shadow: 0 0 0 3px rgba(37, 99, 235, 0.1);
        }

        .payment-form-container button {
            margin-top: 20px;
            width: 100%;
            padding: 14px;
            border: none;
            border-radius: 8px;
            background: var(--secondary);
            color: white;
            font-size: 16px;
            font-weight: 600;
            cursor: pointer;
            transition: var(--transition);
        }

        .payment-form-container button:hover {
            background: #0da271;
            transform: translateY(-2px);
            box-shadow: var(--shadow);
        }

        .payment-note {
            text-align: center;
            font-size: 12px;
            color: var(--gray);
            margin-top: 15px;
            padding: 10px;
            background: var(--light);
            border-radius: 6px;
        }

        .payment-actions {
            display: flex;
            justify-content: space-between;
            margin-top: 30px;
        }

        .back-home-btn {
            background-color: var(--gray-light);
            color: var(--dark);
            padding: 12px 24px;
            border-radius: var(--border-radius);
            text-decoration: none;
            font-weight: 500;
            transition: var(--transition);
            border: none;
            cursor: pointer;
            font-size: 14px;
        }

        .back-home-btn:hover {
            background-color: #d1d5db;
        }

        /* Security Features Display */
        .security-features {
            display: flex;
            justify-content: center;
            gap: 20px;
            margin-top: 25px;
            flex-wrap: wrap;
        }

        .security-badge {
            display: flex;
            align-items: center;
            gap: 8px;
            font-size: 12px;
            color: var(--gray);
        }

        .security-badge i {
            color: var(--secondary);
        }

        /* Content Pages (Terms, Refund, About) */
        .content-page {
            max-width: 800px;
            margin: 40px auto;
            padding: 0 20px;
        }

        .content-card {
            background-color: white;
            border-radius: var(--border-radius);
            box-shadow: var(--shadow);
            padding: 40px;
        }

        .content-card h1 {
            margin-bottom: 25px;
            color: var(--dark);
        }

        .content-card h2 {
            margin: 30px 0 15px;
            color: var(--dark);
        }

        .content-card p {
            margin-bottom: 15px;
            color: var(--gray);
        }

        .content-card ul {
            margin-left: 20px;
            margin-bottom: 20px;
            color: var(--gray);
        }

        .content-card li {
            margin-bottom: 8px;
        }

        /* Footer */
        footer {
            background-color: var(--dark);
            color: white;
            padding: 60px 0 30px;
            margin-top: auto;
        }

        .footer-content {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 40px;
            margin-bottom: 40px;
        }

        .footer-logo {
            font-size: 1.5rem;
            font-weight: 700;
            color: white;
            margin-bottom: 20px;
            display: inline-block;
            cursor: pointer;
        }

        .footer-links h4 {
            font-size: 1.2rem;
            margin-bottom: 20px;
        }

        .footer-links ul {
            list-style: none;
        }

        .footer-links li {
            margin-bottom: 10px;
        }

        .footer-links a {
            color: #cbd5e1;
            text-decoration: none;
            transition: var(--transition);
            cursor: pointer;
        }

        .footer-links a:hover {
            color: white;
        }

        .copyright {
            text-align: center;
            padding-top: 30px;
            border-top: 1px solid #334155;
            color: #94a3b8;
            font-size: 0.9rem;
        }

        /* Success Modal */
        .modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0, 0, 0, 0.5);
            z-index: 1000;
            align-items: center;
            justify-content: center;
            padding: 20px;
        }

        .modal.active {
            display: flex;
        }

        .modal-content {
            background-color: white;
            border-radius: var(--border-radius);
            padding: 40px;
            max-width: 400px;
            width: 100%;
            text-align: center;
            box-shadow: var(--shadow-lg);
            animation: scaleIn 0.3s ease;
        }

        .modal-icon {
            font-size: 4rem;
            color: var(--secondary);
            margin-bottom: 20px;
        }

        .modal-content h2 {
            margin-bottom: 15px;
            color: var(--dark);
        }

        .modal-content p {
            color: var(--gray);
            margin-bottom: 25px;
        }

        .modal-details {
            background: var(--light);
            padding: 15px;
            border-radius: 8px;
            margin: 20px 0;
        }

        .modal-detail-row {
            display: flex;
            justify-content: space-between;
            margin-bottom: 10px;
            font-size: 0.9rem;
        }

        .close-modal {
            background-color: var(--primary);
            color: white;
            padding: 12px 30px;
            border-radius: var(--border-radius);
            border: none;
            font-weight: 600;
            cursor: pointer;
            transition: var(--transition);
            width: 100%;
        }

        .close-modal:hover {
            background-color: var(--primary-dark);
        }

        /* Responsive Design */
        @media (max-width: 768px) {
            .nav-links {
                display: none;
                position: absolute;
                top: 100%;
                left: 0;
                width: 100%;
                background-color: white;
                flex-direction: column;
                padding: 20px;
                box-shadow: var(--shadow);
            }

            .nav-links.active {
                display: flex;
            }

            .mobile-toggle {
                display: block;
            }

            .hero h1 {
                font-size: 2.2rem;
            }

            .hero p {
                font-size: 1rem;
            }

            .payment-page-container {
                padding: 20px;
            }

            .payment-form-container {
                padding: 25px;
            }

            .payment-actions {
                flex-direction: column;
                gap: 15px;
            }

            .back-home-btn,
            .payment-form-container button {
                width: 100%;
                text-align: center;
            }
        }

        /* Animations */
        @keyframes slideUp {
            from {
                opacity: 0;
                transform: translateY(30px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        @keyframes scaleIn {
            from {
                opacity: 0;
                transform: scale(0.9);
            }
            to {
                opacity: 1;
                transform: scale(1);
            }
        }
    </style>
</head>
<body>
    <div class="page-container">
        <!-- Header (Visible on all pages) -->
        <header>
            <div class="container">
                <nav class="nav-container">
                    <div class="logo" onclick="showPage('home-page')">
                        <i class="fas fa-lock"></i>
                        PaymentWorld
                    </div>
                    
                    <button class="mobile-toggle" id="mobileToggle">
                        <i class="fas fa-bars"></i>
                    </button>
                    
                    <ul class="nav-links" id="navLinks">
                        <li><a onclick="showPage('home-page')" class="active">Home</a></li>
                        <li><a onclick="showPage('terms-page')">Terms & Conditions</a></li>
                        <li><a onclick="showPage('refund-page')">Refund Policy</a></li>
                        <li><a onclick="showPage('about-page')">About</a></li>
                    </ul>
                </nav>
            </div>
        </header>

        <!-- Home Page (Initially Active) -->
        <div id="home-page" class="page active">
            <!-- Hero Section -->
            <section class="hero">
                <div class="container">
                    <h1>Secure & Professional Payment Solutions</h1>
                    <p>Experience seamless and protected transactions with our state-of-the-art payment gateway. Your security is our top priority.</p>
                    <button class="proceed-btn" onclick="showPage('payment-page')">
                        Proceed to Payment <i class="fas fa-arrow-right"></i>
                    </button>
                </div>
            </section>

            <!-- Features Section -->
            <section class="features">
                <div class="container">
                    <h2 class="section-title">Why Choose PaymentWorld</h2>
                    <div class="features-grid">
                        <div class="feature-card">
                            <i class="fas fa-shield-alt"></i>
                            <h3>Bank-Level Security</h3>
                            <p>256-bit SSL encryption and PCI DSS compliance ensure your payment data is always protected.</p>
                        </div>
                        <div class="feature-card">
                            <i class="fas fa-bolt"></i>
                            <h3>Instant Processing</h3>
                            <p>Lightning-fast transaction processing with real-time confirmation and status updates.</p>
                        </div>
                        <div class="feature-card">
                            <i class="fas fa-globe"></i>
                            <h3>Global Acceptance</h3>
                            <p>Accept payments from all major credit cards and digital wallets worldwide.</p>
                        </div>
                        <div class="feature-card">
                            <i class="fas fa-headset"></i>
                            <h3>24/7 Support</h3>
                            <p>Round-the-clock customer support to assist you with any payment-related queries.</p>
                        </div>
                    </div>
                </div>
            </section>
        </div>

        <!-- Payment Page (Hidden Initially) - Integrated from second HTML -->
        <div id="payment-page" class="page">
            <div class="payment-page-container">
                <div class="payment-form-container">
                    <h2>Secure Payment</h2>
                    
                    <form id="paymentForm">
                        <label for="amount">Amount</label>
                        <input type="number" id="amount" placeholder="Enter amount" min="1" step="0.01" required>
                        
                        <label for="name">Full Name</label>
                        <input type="text" id="name" placeholder="Your name" required>
                        
                        <label for="email">Email Address</label>
                        <input type="email" id="email" placeholder="Your email" required>
                        
                        
                        <button type="submit" onclick="processPayment(event)">
                            <i class="fas fa-lock"></i> Pay Now
                        </button>
                    </form>
                    
                    <div class="payment-note">
                        <i class="fas fa-shield-alt"></i> Payments are secured with 256-bit SSL encryption
                    </div>
                    
                    <!-- Security Features -->
                    <div class="security-features">
                        <div class="security-badge">
                            <i class="fas fa-lock"></i>
                            <span>PCI DSS Compliant</span>
                        </div>
                        <div class="security-badge">
                            <i class="fas fa-user-shield"></i>
                            <span>Fraud Protection</span>
                        </div>
                    </div>
                    
                    <div class="payment-actions">
                        <button class="back-home-btn" onclick="showPage('home-page')">
                            <i class="fas fa-arrow-left"></i> Back to Home
                        </button>
                    </div>
                </div>
            </div>
        </div>

        <!-- Terms & Conditions Page (Hidden Initially) -->
        <div id="terms-page" class="page">
            <div class="content-page">
                <div class="content-card">
                    <h1>Terms & Conditions</h1>
                    <p>Last updated: November 15, 2023</p>
                    
                    <h2>1. Acceptance of Terms</h2>
                    <p>By accessing and using SecurePay Pro's payment services, you agree to be bound by these Terms and Conditions. If you do not agree with any part of these terms, you must not use our services.</p>
                    
                    <h2>2. Description of Service</h2>
                    <p>SecurePay Pro provides a secure online payment processing platform that enables users to make payments for goods and services through various payment methods.</p>
                    
                    <h2>3. User Responsibilities</h2>
                    <p>You agree to:</p>
                    <ul>
                        <li>Provide accurate and complete information during the payment process</li>
                        <li>Maintain the security of your payment credentials</li>
                        <li>Use the service only for lawful purposes</li>
                        <li>Not attempt to circumvent any security measures</li>
                    </ul>
                    
                    <h2>4. Payment Processing</h2>
                    <p>All payments are processed through secure third-party payment gateways. SecurePay Pro does not store complete credit card information on its servers.</p>
                    
                    <h2>5. Security</h2>
                    <p>We implement industry-standard security measures to protect your payment information. However, you acknowledge that no online payment system can guarantee 100% security.</p>
                    
                    <h2>6. Limitation of Liability</h2>
                    <p>SecurePay Pro shall not be liable for any indirect, incidental, or consequential damages arising from the use or inability to use our payment services.</p>
                    
                    <h2>7. Changes to Terms</h2>
                    <p>We reserve the right to modify these terms at any time. Continued use of our services after changes constitutes acceptance of the modified terms.</p>
                    
                    <div style="margin-top: 40px;">
                        <button class="back-home-btn" onclick="showPage('home-page')">
                            <i class="fas fa-arrow-left"></i> Back to Home
                        </button>
                    </div>
                </div>
            </div>
        </div>

        <!-- Refund Policy Page (Hidden Initially) -->
        <div id="refund-page" class="page">
            <div class="content-page">
                <div class="content-card">
                    <h1>Refund Policy</h1>
                    <p>Last updated: November 15, 2023</p>
                    
                    <h2>1. Eligibility for Refunds</h2>
                    <p>Refunds may be issued under the following circumstances:</p>
                    <ul>
                        <li>Duplicate or accidental charges</li>
                        <li>Technical errors in payment processing</li>
                        <li>Failed transactions where service was not rendered</li>
                        <li>As required by applicable consumer protection laws</li>
                    </ul>
                    
                    <h2>2. Refund Timeframe</h2>
                    <p>Refund requests are processed within 5-10 business days. The actual time for funds to appear in your account depends on your financial institution.</p>
                    
                    <h2>3. How to Request a Refund</h2>
                    <p>To request a refund:</p>
                    <ul>
                        <li>Contact our support team at support@securepaypro.demo</li>
                        <li>Provide your transaction ID and payment details</li>
                        <li>Explain the reason for your refund request</li>
                    </ul>
                    
                    <h2>4. Non-Refundable Items</h2>
                    <p>The following are generally not eligible for refunds:</p>
                    <ul>
                        <li>Services already rendered or consumed</li>
                        <li>Digital products that have been accessed or downloaded</li>
                        <li>Transactions older than 30 days</li>
                    </ul>
                    
                    <h2>5. Chargebacks</h2>
                    <p>If you believe a charge was made in error, we encourage you to contact us directly before initiating a chargeback with your bank. We will work with you to resolve any issues promptly.</p>
                    
                    <h2>6. Contact Information</h2>
                    <p>For refund inquiries, please contact:</p>
                    <p>Email: support@paymentworld.demo<br>
                    Phone: 1-800-SECURE-PAY<br>
                    Hours: Monday-Friday, 9 AM - 6 PM EST</p>
                    
                    <div style="margin-top: 40px;">
                        <button class="back-home-btn" onclick="showPage('home-page')">
                            <i class="fas fa-arrow-left"></i> Back to Home
                        </button>
                    </div>
                </div>
            </div>
        </div>

        <!-- About Page (Hidden Initially) -->
        <div id="about-page" class="page">
            <div class="content-page">
                <div class="content-card">
                    <h1>About PaymentWorld</h1>
                    
                    <h2>Our Mission</h2>
                    <p>SecurePay Pro was founded with a simple mission: to make online payments secure, simple, and accessible for everyone. We believe that financial transactions should be effortless and protected by the highest security standards.</p>
                    
                    <h2>Our Story</h2>
                    <p>Founded in 2020, SecurePay Pro emerged from the growing need for reliable and secure payment solutions in the digital age. Our team of payment security experts and software developers came together to create a platform that combines cutting-edge security with user-friendly design.</p>
                    
                    <h2>Security First Approach</h2>
                    <p>We are committed to maintaining the highest security standards:</p>
                    <ul>
                        <li>PCI DSS Level 1 Compliance</li>
                        <li>256-bit SSL encryption for all transactions</li>
                        <li>Advanced fraud detection algorithms</li>
                        <li>Regular security audits and penetration testing</li>
                    </ul>
                    
                    <h2>Our Values</h2>
                    <p><strong>Security:</strong> We never compromise on the protection of your financial data.<br>
                    <strong>Transparency:</strong> Clear pricing and policies with no hidden fees.<br>
                    <strong>Innovation:</strong> Continuously improving our technology to serve you better.<br>
                    <strong>Customer Focus:</strong> Your satisfaction is our priority.</p>
                    
                    <h2>Global Reach</h2>
                    <p>While we're based in the United States, our services are available to customers worldwide. We support multiple currencies and payment methods to accommodate global users.</p>
                    
                    <h2>Contact Us</h2>
                    <p>Have questions or need support? We're here to help!</p>
                    <p>Email: info@paymentworld.demo<br>
                    Phone: 1-800-SECURE-PAY<br>
                    Address: 123 Security Plaza, Suite 500<br>
                    San Francisco, CA 94107</p>
                    
                    <div style="margin-top: 40px;">
                        <button class="back-home-btn" onclick="showPage('home-page')">
                            <i class="fas fa-arrow-left"></i> Back to Home
                        </button>
                    </div>
                </div>
            </div>
        </div>

        <!-- Footer (Visible on all pages) -->
        <footer>
            <div class="container">
                <div class="footer-content">
                    <div>
                        <div class="footer-logo" onclick="showPage('home-page')">
                            <i class="fas fa-lock"></i>PaymentWorld
                        </div>
                        <p>Professional payment solutions for businesses and individuals. Secure, fast, and reliable.</p>
                    </div>
                    <div class="footer-links">
                        <h4>Quick Links</h4>
                        <ul>
                            <li><a onclick="showPage('home-page')">Home</a></li>
                            <li><a onclick="showPage('terms-page')">Terms & Conditions</a></li>
                            <li><a onclick="showPage('refund-page')">Refund Policy</a></li>
                            <li><a onclick="showPage('about-page')">About Us</a></li>
                        </ul>
                    </div>
                    <div class="footer-links">
                        <h4>Security</h4>
                        <ul>
                            <li><a onclick="showPage('terms-page')">Privacy Policy</a></li>
                            <li><a>Security Overview</a></li>
                            <li><a>PCI Compliance</a></li>
                            <li><a>Fraud Protection</a></li>
                        </ul>
                    </div>
                </div>
                <div class="copyright">
                    <p>&copy; 2023 PaymentWorld. All rights reserved. | This is a demo website for educational purposes.</p>
                </div>
            </div>
        </footer>

        <!-- Success Modal -->
        <div id="success-modal" class="modal">
            <div class="modal-content">
                <div class="modal-icon">
                    <i class="fas fa-check-circle"></i>
                </div>
                <h2>Payment Successful!</h2>
                <p>Your payment has been processed successfully. A confirmation email has been sent to your registered email address.</p>
                
                <div class="modal-details">
                    <div class="modal-detail-row">
                        <span>Transaction ID:</span>
                        <span id="transaction-id">TXN-<span id="txn-number">789456</span></span>
                    </div>
                    <div class="modal-detail-row">
                        <span>Amount Paid:</span>
                        <span id="paid-amount">$0.00</span>
                    </div>
                    <div class="modal-detail-row">
                        <span>Payment Method:</span>
                        <span>Credit Card</span>
                    </div>
                </div>
                
                <button class="close-modal" onclick="closeModal()">
                    <i class="fas fa-check"></i> Return to Home
                </button>
            </div>
        </div>
    </div>

    <script>
        // Initialize: Show only Home page on load
        document.addEventListener('DOMContentLoaded', function() {
            // Set Home page as active (others are hidden by CSS)
            showPage('home-page');
            
            // Initialize mobile navigation
            setupMobileNavigation();
            
            // Initialize form formatting
            setupFormFormatting();
            
            // Generate initial transaction ID
            generateTransactionId();
        });

        // Page Navigation System
        function showPage(pageId) {
            // Hide all pages
            const pages = document.querySelectorAll('.page');
            pages.forEach(page => {
                page.classList.remove('active');
            });
            
            // Show selected page
            document.getElementById(pageId).classList.add('active');
            
            // Update navigation active states
            updateNavActiveState(pageId);
            
            // Close mobile menu if open
            closeMobileMenu();
            
            // Scroll to top
            window.scrollTo(0, 0);
            
            // Update page title
            updatePageTitle(pageId);
        }

        function updateNavActiveState(pageId) {
            // Remove active class from all nav links
            const allNavLinks = document.querySelectorAll('.nav-links a');
            allNavLinks.forEach(link => {
                link.classList.remove('active');
            });
            
            // Add active class to current page nav link
            let activeNavLink;
            switch(pageId) {
                case 'home-page':
                    activeNavLink = document.querySelector('.nav-links a[onclick*="home-page"]');
                    break;
                case 'terms-page':
                    activeNavLink = document.querySelector('.nav-links a[onclick*="terms-page"]');
                    break;
                case 'refund-page':
                    activeNavLink = document.querySelector('.nav-links a[onclick*="refund-page"]');
                    break;
                case 'about-page':
                    activeNavLink = document.querySelector('.nav-links a[onclick*="about-page"]');
                    break;
                case 'payment-page':
                    // Payment page doesn't have a nav link, so keep home active
                    activeNavLink = document.querySelector('.nav-links a[onclick*="home-page"]');
                    break;
            }
            
            if (activeNavLink) {
                activeNavLink.classList.add('active');
            }
        }

        function updatePageTitle(pageId) {
            const titles = {
                'home-page': 'SecurePay Pro - Professional Payment Gateway',
                'payment-page': 'Secure Payment - SecurePay Pro',
                'terms-page': 'Terms & Conditions - SecurePay Pro',
                'refund-page': 'Refund Policy - SecurePay Pro',
                'about-page': 'About Us - SecurePay Pro'
            };
            
            document.title = titles[pageId] || 'PaymentWorld';
        }

        // Mobile Navigation Setup
        function setupMobileNavigation() {
            const mobileToggle = document.getElementById('mobileToggle');
            const navLinks = document.getElementById('navLinks');
            
            if (mobileToggle && navLinks) {
                mobileToggle.addEventListener('click', function() {
                    navLinks.classList.toggle('active');
                });
                
                // Close mobile menu when clicking outside
                document.addEventListener('click', function(event) {
                    if (!navLinks.contains(event.target) && !mobileToggle.contains(event.target)) {
                        navLinks.classList.remove('active');
                    }
                });
            }
        }

        function closeMobileMenu() {
            const navLinks = document.getElementById('navLinks');
            if (navLinks) {
                navLinks.classList.remove('active');
            }
        }

        // Form Formatting and Validation
        function setupFormFormatting() {
            // Format card number input
            const cardNumberInput = document.getElementById('card-number');
            if (cardNumberInput) {
                cardNumberInput.addEventListener('input', function(e) {
                    let value = e.target.value.replace(/\s+/g, '').replace(/[^0-9]/gi, '');
                    let formatted = value.replace(/(\d{4})/g, '$1 ').trim();
                    e.target.value = formatted.substring(0, 19);
                });
            }
            
            // Format expiry date input
            const expiryInput = document.getElementById('expiry-date');
            if (expiryInput) {
                expiryInput.addEventListener('input', function(e) {
                    let value = e.target.value.replace(/\D/g, '');
                    if (value.length >= 2) {
                        value = value.substring(0, 2) + '/' + value.substring(2, 4);
                    }
                    e.target.value = value.substring(0, 5);
                });
            }
            
            // Only allow numbers for CVV
            const cvvInput = document.getElementById('cvv');
            if (cvvInput) {
                cvvInput.addEventListener('input', function(e) {
                    e.target.value = e.target.value.replace(/\D/g, '');
                });
            }
        }

        // Generate random transaction ID
        function generateTransactionId() {
            const txnId = Math.floor(100000 + Math.random() * 900000);
            document.getElementById('txn-number').textContent = txnId;
            return txnId;
        }

        // Process Payment
        function processPayment(event) {
            event.preventDefault();
            
            // Get form elements
            const amountInput = document.getElementById('amount');
            const nameInput = document.getElementById('name');
            const emailInput = document.getElementById('email');
            const cardNumberInput = document.getElementById('card-number');
            const expiryInput = document.getElementById('expiry-date');
            const cvvInput = document.getElementById('cvv');
            
            // Basic validation
            if (!amountInput.value || parseFloat(amountInput.value) < 1) {
                alert('Please enter a valid amount (minimum $1)');
                amountInput.focus();
                return false;
            }
            
            if (!nameInput.value || nameInput.value.length < 2) {
                alert('Please enter your full name');
                nameInput.focus();
                return false;
            }
            
            if (!emailInput.value || !validateEmail(emailInput.value)) {
                alert('Please enter a valid email address');
                emailInput.focus();
                return false;
            }
            
            const cardNumber = cardNumberInput.value.replace(/\s/g, '');
            if (cardNumber.length !== 16) {
                alert('Please enter a valid 16-digit card number');
                cardNumberInput.focus();
                return false;
            }
            
            if (!validateCardNumber(cardNumber)) {
                alert('Please enter a valid card number');
                cardNumberInput.focus();
                return false;
            }
            
            if (!expiryInput.value || !validateExpiryDate(expiryInput.value)) {
                alert('Please enter a valid expiry date (MM/YY)');
                expiryInput.focus();
                return false;
            }
            
            if (!cvvInput.value || cvvInput.value.length < 3) {
                alert('Please enter a valid CVV');
                cvvInput.focus();
                return false;
            }
            
            // Simulate payment processing
            const submitBtn = event.target;
            const originalText = submitBtn.innerHTML;
            
            submitBtn.innerHTML = '<i class="fas fa-spinner fa-spin"></i> Processing...';
            submitBtn.disabled = true;
            
            // Update paid amount in modal
            const amount = parseFloat(amountInput.value);
            document.getElementById('paid-amount').textContent = '$' + amount.toFixed(2);
            
            // Generate new transaction ID
            generateTransactionId();
            
            // Simulate API call delay
            setTimeout(() => {
                // Show success modal
                document.getElementById('success-modal').classList.add('active');
                
                // Reset button
                submitBtn.innerHTML = originalText;
                submitBtn.disabled = false;
                
                // Reset form
                document.getElementById('paymentForm').reset();
            }, 2000);
            
            return false;
        }

        // Email validation
        function validateEmail(email) {
            const re = /^[^\s@]+@[^\s@]+\.[^\s@]+$/;
            return re.test(email);
        }

        // Card number validation (Luhn algorithm)
        function validateCardNumber(cardNumber) {
            let sum = 0;
            let isEven = false;
            
            for (let i = cardNumber.length - 1; i >= 0; i--) {
                let digit = parseInt(cardNumber.charAt(i), 10);
                
                if (isEven) {
                    digit *= 2;
                    if (digit > 9) digit -= 9;
                }
                
                sum += digit;
                isEven = !isEven;
            }
            
            return sum % 10 === 0;
        }

        // Expiry date validation
        function validateExpiryDate(expiry) {
            if (!/^\d{2}\/\d{2}$/.test(expiry)) return false;
            
            const [month, year] = expiry.split('/').map(Number);
            const currentDate = new Date();
            const currentYear = currentDate.getFullYear() % 100;
            const currentMonth = currentDate.getMonth() + 1;
            
            if (month < 1 || month > 12) return false;
            if (year < currentYear) return false;
            if (year === currentYear && month < currentMonth) return false;
            
            return true;
        }

        // Close Modal
        function closeModal() {
            document.getElementById('success-modal').classList.remove('active');
            showPage('home-page');
        }

        // Close modal when clicking outside
        window.onclick = function(event) {
            const modal = document.getElementById('success-modal');
            if (event.target === modal) {
                closeModal();
            }
        }
    </script>
</body>
</html>